## Sponge — Ralph Loop Progress Log
Append-only. Each entry: [story-id] what was done, what was learned, any gotchas.

## Initial State (before loop)
The core product is already fully built and styled. FileTree, CodeEditor (Monaco), ChatTerminal,
Header, LandingScreen, ResultsScreen, Layout — all implemented with full CSS.

Key architecture facts (read before implementing):
- All session state in frontend/src/hooks/useSession.jsx via React Context
- State: sessionId, view, timeLeft, activeFile, openFiles, fileBuffers, chatHistory, isAiLoading, results, isSubmitting, username (to be added in S-02)
- Timer: useEffect on view === 'session', setInterval decrementing timeLeft
- timerRef = useRef(null) — holds the interval ID, used to clearInterval on submit
- submitSession signature: { session_id, final_code } — needs username added in S-02
- api/client.js has USE_MOCK = true — all API calls return mocked data, no backend needed
- vite build (not npm run dev) is the correct validation command for the loop — it catches all import/type errors
- useSession.jsx contains JSX so it must use .jsx extension (learned during setup)
- No router installed — App.jsx uses view state ('idle' | 'session' | 'results') to switch screens
- fileContents.js is large (~3300 lines) — don't read it in full unless necessary

[S-01] Auto-submit when timer expires — added useEffect watching timeLeft===0 to call submit(). Guarded with !isSubmitting to prevent double-submit. Clean approach: separate effect from the timer countdown effect.

[S-02] Username capture on landing screen — added username state to useSession, beginSession(name) accepts name param, defaults to 'Anonymous' if blank. LandingScreen has local state for input, passes to beginSession on click. submitSession now passes username field. CSS for input appended to end of index.css.

[S-03] Debounce file_edit event logging — added editDebounceRef = useRef(null), clearTimeout/setTimeout(1500ms) wrapping logEvent in updateFileContent. fileBuffers still update immediately on every keystroke.

[S-04] Fix missing ProblemStatement CSS — .problem-context was the only missing class. Added h4 and p rules matching .problem-requirements style. Appended to end of index.css. ProblemStatement.jsx needed no changes.
